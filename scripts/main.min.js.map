{"version":3,"sources":["pace.js"],"names":["AjaxMonitor","Bar","DocumentMonitor","ElementMonitor","ElementTracker","EventLagMonitor","Evented","Events","NoTargetError","Pace","RequestIntercept","SOURCE_KEYS","Scaler","SocketRequestTracker","XHRRequestTracker","animation","avgAmplitude","bar","cancelAnimation","cancelAnimationFrame","defaultOptions","extend","extendNative","getFromDOM","getIntercept","handlePushState","ignoreStack","init","now","options","requestAnimationFrame","result","runAnimation","scalers","shouldIgnoreURL","shouldTrack","source","sources","uniScaler","_WebSocket","_XDomainRequest","_XMLHttpRequest","_i","_intercept","_len","_pushState","_ref","_ref1","_replaceState","__slice","slice","__hasProp","hasOwnProperty","__extends","child","parent","ctor","this","constructor","key","call","prototype","__super__","__indexOf","indexOf","item","i","l","length","catchupTime","initialRate","minTime","ghostTime","maxProgressPerFrame","easeFactor","startOnPageLoad","restartOnPushState","restartOnRequestAfter","target","elements","checkInterval","selectors","eventLag","minSamples","sampleCount","lagThreshold","ajax","trackMethods","trackWebSockets","ignoreURLs","performance","Date","window","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","mozCancelAnimationFrame","fn","setTimeout","id","clearTimeout","last","tick","diff","args","obj","arguments","apply","out","val","arr","count","sum","v","Math","abs","json","data","e","el","document","querySelector","getAttribute","JSON","parse","_error","console","error","on","event","handler","ctx","once","_base","bindings","push","off","_results","splice","trigger","paceOptions","_super","Error","progress","getElement","targetElement","createElement","className","body","replace","innerHTML","firstChild","insertBefore","appendChild","finish","update","prog","render","destroy","parentNode","removeChild","progressStr","transform","_j","_len1","_ref2","children","style","lastRenderedProgress","setAttribute","done","name","binding","XMLHttpRequest","XDomainRequest","WebSocket","to","from","Object","defineProperty","get","configurable","enumerable","ignore","ret","unshift","shift","track","method","toUpperCase","monitorXHR","_this","req","_open","open","type","url","async","request","flags","protocols","pattern","test","_arg","after","running","stillActive","_ref3","readyState","restart","watch","tracker","size","_onreadystatechange","ProgressEvent","addEventListener","evt","lengthComputable","loaded","total","onreadystatechange","selector","check","states","loading","interactive","complete","avg","interval","points","samples","setInterval","clearInterval","sinceLastUpdate","rate","catchup","lastProgress","frameTime","scaling","pow","min","max","history","pushState","replaceState","_k","_len2","_ref4","extraSources","stop","start","go","enqueueNextFrame","element","j","remaining","scaler","scalerList","_options","define","amd","exports","module"],"mappings":"CAAA,WACA,GAAAA,GAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EACAC,KAAAC,MACAC,KAAAC,eACAC,EAAA,SAAAC,EAAAC,GAEA,QAAAC,KAAAC,KAAAC,YAAAJ,EAFA,IAAA,GAAAK,KAAAJ,GAAAJ,EAAAS,KAAAL,EAAAI,KAAAL,EAAAK,GAAAJ,EAAAI,GAKA,OAFAH,GAAAK,UAAAN,EAAAM,UACAP,EAAAO,UAAA,GAAAL,GACAF,EAAAQ,UAAAP,EAAAM,UAAAP,GACAS,KAAAC,SAAA,SAAAC,GAAA,IAAA,GAAAC,GAAA,EAAAC,EAAAV,KAAAW,OAAAF,EAAAC,EAAAD,IAAA,GAAAA,IAAAT,OAAAA,KAAAS,KAAAD,EAAA,MAAAC,EAAA,UAgNA,KA9MA9C,GACAiD,YAAA,IACAC,YAAA,IACAC,QAAA,IACAC,UAAA,IACAC,oBAAA,GACAC,WAAA,KACAC,iBAAA,EACAC,oBAAA,EACAC,sBAAA,IACAC,OAAA,OACAC,UACAC,cAAA,IACAC,WAAA,SAEAC,UACAC,WAAA,GACAC,YAAA,EACAC,aAAA,GAEAC,MACAC,cAAA,OACAC,iBAAA,EACAC,gBAIA7D,EAAA,WACA,GAAAkB,EACA,OAAA,QAAAA,EAAA,mBAAA4C,cAAA,OAAAA,aAAA,kBAAAA,aAAA9D,IAAA8D,YAAA9D,MAAA,QAAAkB,GAAA,GAAA6C,OAGA7D,EAAA8D,OAAA9D,uBAAA8D,OAAAC,0BAAAD,OAAAE,6BAAAF,OAAAG,wBAEA5E,EAAAyE,OAAAzE,sBAAAyE,OAAAI,wBAEA,MAAAlE,IACAA,EAAA,SAAAmE,GACA,MAAAC,YAAAD,EAAA,KAEA9E,EAAA,SAAAgF,GACA,MAAAC,cAAAD,KAIAnE,EAAA,SAAAiE,GACA,GAAAI,GAAAC,CAcA,OAbAD,GAAAzE,KACA0E,EAAA,WACA,GAAAC,EAEA,OADAA,GAAA3E,IAAAyE,EACAE,GAAA,IACAF,EAAAzE,IACAqE,EAAAM,EAAA,WACA,MAAAzE,GAAAwE,MAGAJ,WAAAI,EAAA,GAAAC,QAMAxE,EAAA,WACA,GAAAyE,GAAA7C,EAAA8C,CAEA,OADAA,GAAAC,UAAA,GAAA/C,EAAA+C,UAAA,GAAAF,EAAA,GAAAE,UAAAtC,OAAAnB,EAAAW,KAAA8C,UAAA,MACA,kBAAAD,GAAA9C,GACA8C,EAAA9C,GAAAgD,MAAAF,EAAAD,GAEAC,EAAA9C,IAIAtC,EAAA,WACA,GAAAsC,GAAAiD,EAAAxE,EAAAC,EAAAwE,EAAAnE,EAAAE,CAEA,KADAgE,EAAAF,UAAA,GAAArE,EAAA,GAAAqE,UAAAtC,OAAAnB,EAAAW,KAAA8C,UAAA,MACAhE,EAAA,EAAAE,EAAAP,EAAA+B,OAAA1B,EAAAE,EAAAF,IAEA,GADAN,EAAAC,EAAAK,GAEA,IAAAiB,IAAAvB,GACAe,EAAAS,KAAAxB,EAAAuB,KACAkD,EAAAzE,EAAAuB,GACA,MAAAiD,EAAAjD,IAAA,gBAAAiD,GAAAjD,IAAA,MAAAkD,GAAA,gBAAAA,GACAxF,EAAAuF,EAAAjD,GAAAkD,GAEAD,EAAAjD,GAAAkD,EAKA,OAAAD,IAGA5F,EAAA,SAAA8F,GACA,GAAAC,GAAAC,EAAAC,EAAAvE,EAAAE,CAEA,KADAoE,EAAAD,EAAA,EACArE,EAAA,EAAAE,EAAAkE,EAAA1C,OAAA1B,EAAAE,EAAAF,IACAuE,EAAAH,EAAApE,GACAsE,GAAAE,KAAAC,IAAAF,GACAF,GAEA,OAAAC,GAAAD,GAGAxF,EAAA,SAAAoC,EAAAyD,GACA,GAAAC,GAAAC,EAAAC,CAQA,IAPA,MAAA5D,IACAA,EAAA,WAEA,MAAAyD,IACAA,GAAA,GAEAG,EAAAC,SAAAC,cAAA,cAAA9D,EAAA,KACA,CAIA,GADA0D,EAAAE,EAAAG,aAAA,aAAA/D,IACAyD,EACA,MAAAC,EAEA,KACA,MAAAM,MAAAC,MAAAP,GACA,MAAAQ,GAEA,MADAP,GAAAO,EACA,mBAAAC,UAAA,OAAAA,QAAAA,QAAAC,MAAA,oCAAAT,GAAA,UAIAhH,EAAA,WACA,QAAAA,MAgEA,MA9DAA,GAAAuD,UAAAmE,GAAA,SAAAC,EAAAC,EAAAC,EAAAC,GACA,GAAAC,EAUA,OATA,OAAAD,IACAA,GAAA,GAEA,MAAA3E,KAAA6E,WACA7E,KAAA6E,aAEA,OAAAD,EAAA5E,KAAA6E,UAAAL,KACAI,EAAAJ,OAEAxE,KAAA6E,SAAAL,GAAAM,MACAL,QAAAA,EACAC,IAAAA,EACAC,KAAAA,KAIA9H,EAAAuD,UAAAuE,KAAA,SAAAH,EAAAC,EAAAC,GACA,MAAA1E,MAAAuE,GAAAC,EAAAC,EAAAC,GAAA,IAGA7H,EAAAuD,UAAA2E,IAAA,SAAAP,EAAAC,GACA,GAAAhE,GAAApB,EAAA2F,CACA,IAAA,OAAA,OAAA3F,EAAAW,KAAA6E,UAAAxF,EAAAmF,GAAA,QAAA,CAGA,GAAA,MAAAC,EACA,aAAAzE,MAAA6E,SAAAL,EAIA,KAFA/D,EAAA,EACAuE,KACAvE,EAAAT,KAAA6E,SAAAL,GAAA7D,QACAX,KAAA6E,SAAAL,GAAA/D,GAAAgE,UAAAA,EACAO,EAAAF,KAAA9E,KAAA6E,SAAAL,GAAAS,OAAAxE,EAAA,IAEAuE,EAAAF,KAAArE,IAGA,OAAAuE,KAIAnI,EAAAuD,UAAA8E,QAAA,WACA,GAAAnC,GAAA2B,EAAAF,EAAAC,EAAAhE,EAAAkE,EAAAtF,EAAAC,EAAA0F,CAEA,IADAR,EAAAvB,UAAA,GAAAF,EAAA,GAAAE,UAAAtC,OAAAnB,EAAAW,KAAA8C,UAAA,MACA,OAAA5D,EAAAW,KAAA6E,UAAAxF,EAAAmF,GAAA,OAAA,CAGA,IAFA/D,EAAA,EACAuE,KACAvE,EAAAT,KAAA6E,SAAAL,GAAA7D,QACArB,EAAAU,KAAA6E,SAAAL,GAAA/D,GAAAgE,EAAAnF,EAAAmF,QAAAC,EAAApF,EAAAoF,IAAAC,EAAArF,EAAAqF,KACAF,EAAAvB,MAAA,MAAAwB,EAAAA,EAAA1E,KAAA+C,GACA4B,EACAK,EAAAF,KAAA9E,KAAA6E,SAAAL,GAAAS,OAAAxE,EAAA,IAEAuE,EAAAF,KAAArE,IAGA,OAAAuE,KAIAnI,KAIAG,EAAAmF,OAAAnF,SAEAmF,OAAAnF,KAAAA,EAEAY,EAAAZ,EAAAH,EAAAuD,WAEAhC,EAAApB,EAAAoB,QAAAR,KAAAD,EAAAwE,OAAAgD,YAAArH,KAEAuB,GAAA,OAAA,WAAA,WAAA,YACAJ,EAAA,EAAAE,EAAAE,EAAAsB,OAAA1B,EAAAE,EAAAF,IACAN,EAAAU,EAAAJ,GACAb,EAAAO,MAAA,IACAP,EAAAO,GAAAhB,EAAAgB,GAIA5B,GAAA,SAAAqI,GAGA,QAAArI,KAEA,MADAuC,GAAAvC,EAAAsD,UAAAJ,YAAAiD,MAAAlD,KAAAiD,WAIA,MAPArD,GAAA7C,EAAAqI,GAOArI,GAEAsI,OAEA7I,EAAA,WACA,QAAAA,KACAwD,KAAAsF,SAAA,EA4EA,MAzEA9I,GAAA4D,UAAAmF,WAAA,WACA,GAAAC,EACA,IAAA,MAAAxF,KAAA8D,GAAA,CAEA,GADA0B,EAAAzB,SAAAC,cAAA5F,EAAAiD,SACAmE,EACA,KAAA,IAAAzI,EAEAiD,MAAA8D,GAAAC,SAAA0B,cAAA,OACAzF,KAAA8D,GAAA4B,UAAA,mBACA3B,SAAA4B,KAAAD,UAAA3B,SAAA4B,KAAAD,UAAAE,QAAA,aAAA,IACA7B,SAAA4B,KAAAD,WAAA,gBACA1F,KAAA8D,GAAA+B,UAAA,oHACA,MAAAL,EAAAM,WACAN,EAAAO,aAAA/F,KAAA8D,GAAA0B,EAAAM,YAEAN,EAAAQ,YAAAhG,KAAA8D,IAGA,MAAA9D,MAAA8D,IAGAtH,EAAA4D,UAAA6F,OAAA,WACA,GAAAnC,EAKA,OAJAA,GAAA9D,KAAAuF,aACAzB,EAAA4B,UAAA5B,EAAA4B,UAAAE,QAAA,cAAA,IACA9B,EAAA4B,WAAA,iBACA3B,SAAA4B,KAAAD,UAAA3B,SAAA4B,KAAAD,UAAAE,QAAA,eAAA,IACA7B,SAAA4B,KAAAD,WAAA,cAGAlJ,EAAA4D,UAAA8F,OAAA,SAAAC,GAEA,MADAnG,MAAAsF,SAAAa,EACAnG,KAAAoG,UAGA5J,EAAA4D,UAAAiG,QAAA,WACA,IACArG,KAAAuF,aAAAe,WAAAC,YAAAvG,KAAAuF,cACA,MAAAnB,GACArH,EAAAqH,EAEA,MAAApE,MAAA8D,GAAA,QAGAtH,EAAA4D,UAAAgG,OAAA,WACA,GAAAtC,GAAA5D,EAAAsG,EAAAC,EAAAC,EAAAC,EAAAC,CACA,IAAA,MAAA7C,SAAAC,cAAA5F,EAAAiD,QACA,OAAA,CAKA,KAHAyC,EAAA9D,KAAAuF,aACAkB,EAAA,eAAAzG,KAAAsF,SAAA,WACAsB,GAAA,kBAAA,cAAA,aACAF,EAAA,EAAAC,EAAAC,EAAAjG,OAAA+F,EAAAC,EAAAD,IACAxG,EAAA0G,EAAAF,GACA5C,EAAA+C,SAAA,GAAAC,MAAA5G,GAAAuG,CAYA,SAVAzG,KAAA+G,sBAAA/G,KAAA+G,qBAAA,IAAA/G,KAAAsF,SAAA,KACAxB,EAAA+C,SAAA,GAAAG,aAAA,qBAAA,IAAA,EAAAhH,KAAAsF,UAAA,KACAtF,KAAAsF,UAAA,IACAkB,EAAA,MAEAA,EAAAxG,KAAAsF,SAAA,GAAA,IAAA,GACAkB,GAAA,EAAAxG,KAAAsF,UAEAxB,EAAA+C,SAAA,GAAAG,aAAA,gBAAA,GAAAR,IAEAxG,KAAA+G,qBAAA/G,KAAAsF,UAGA9I,EAAA4D,UAAA6G,KAAA,WACA,MAAAjH,MAAAsF,UAAA,KAGA9I,KAIAM,EAAA,WACA,QAAAA,KACAkD,KAAA6E,YAwBA,MArBA/H,GAAAsD,UAAA8E,QAAA,SAAAgC,EAAA9D,GACA,GAAA+D,GAAAT,EAAAC,EAAAC,EAAA5B,CACA,IAAA,MAAAhF,KAAA6E,SAAAqC,GAAA,CAGA,IAFAN,EAAA5G,KAAA6E,SAAAqC,GACAlC,KACA0B,EAAA,EAAAC,EAAAC,EAAAjG,OAAA+F,EAAAC,EAAAD,IACAS,EAAAP,EAAAF,GACA1B,EAAAF,KAAAqC,EAAAhH,KAAAH,KAAAoD,GAEA,OAAA4B,KAIAlI,EAAAsD,UAAAmE,GAAA,SAAA2C,EAAA1E,GACA,GAAAoC,EAIA,OAHA,QAAAA,EAAA5E,KAAA6E,UAAAqC,KACAtC,EAAAsC,OAEAlH,KAAA6E,SAAAqC,GAAApC,KAAAtC,IAGA1F,KAIAkC,EAAAmD,OAAAiF,eAEArI,EAAAoD,OAAAkF,eAEAvI,EAAAqD,OAAAmF,UAEAzJ,EAAA,SAAA0J,EAAAC,GACA,GAAA3D,GAAA3D,EAAA8E,CACAA,KACA,KAAA9E,IAAAsH,GAAApH,UACA,IACA,MAAAmH,EAAArH,IAAA,kBAAAsH,GAAAtH,GACA,kBAAAuH,QAAAC,eACA1C,EAAAF,KAAA2C,OAAAC,eAAAH,EAAArH,GACAyH,IAAA,WACA,MAAAH,GAAApH,UAAAF,IAEA0H,cAAA,EACAC,YAAA,KAGA7C,EAAAF,KAAAyC,EAAArH,GAAAsH,EAAApH,UAAAF,IAGA8E,EAAAF,KAAA,QAEA,MAAAV,GACAP,EAAAO,EAGA,MAAAY,IAGA/G,KAEAjB,EAAA8K,OAAA,WACA,GAAA/E,GAAAP,EAAAuF,CAKA,OAJAvF,GAAAS,UAAA,GAAAF,EAAA,GAAAE,UAAAtC,OAAAnB,EAAAW,KAAA8C,UAAA,MACAhF,EAAA+J,QAAA,UACAD,EAAAvF,EAAAU,MAAA,KAAAH,GACA9E,EAAAgK,QACAF,GAGA/K,EAAAkL,MAAA,WACA,GAAAnF,GAAAP,EAAAuF,CAKA,OAJAvF,GAAAS,UAAA,GAAAF,EAAA,GAAAE,UAAAtC,OAAAnB,EAAAW,KAAA8C,UAAA,MACAhF,EAAA+J,QAAA,SACAD,EAAAvF,EAAAU,MAAA,KAAAH,GACA9E,EAAAgK,QACAF,GAGArJ,EAAA,SAAAyJ,GACA,GAAAvB,EAIA,IAHA,MAAAuB,IACAA,EAAA,OAEA,UAAAlK,EAAA,GACA,MAAA,OAEA,KAAAA,EAAA0C,QAAAvC,EAAAyD,KAAA,CACA,GAAA,WAAAsG,GAAA/J,EAAAyD,KAAAE,gBACA,OAAA,CACA,IAAA6E,EAAAuB,EAAAC,cAAA9H,EAAAH,KAAA/B,EAAAyD,KAAAC,aAAA8E,IAAA,EACA,OAAA,EAGA,OAAA,GAGA3J,EAAA,SAAAmI,GAGA,QAAAnI,KACA,GAAAoL,GACAC,EAAAtI,IACA/C,GAAAoD,UAAAJ,YAAAiD,MAAAlD,KAAAiD,WACAoF,EAAA,SAAAE,GACA,GAAAC,EAEA,OADAA,GAAAD,EAAAE,KACAF,EAAAE,KAAA,SAAAC,EAAAC,EAAAC,GAQA,MAPAlK,GAAAgK,IACAJ,EAAApD,QAAA,WACAwD,KAAAA,EACAC,IAAAA,EACAE,QAAAN,IAGAC,EAAAtF,MAAAqF,EAAAtF,aAGAd,OAAAiF,eAAA,SAAA0B,GACA,GAAAP,EAGA,OAFAA,GAAA,GAAAvJ,GAAA8J,GACAT,EAAAE,GACAA,EAEA,KACA1K,EAAAsE,OAAAiF,eAAApI,GACA,MAAAoF,IACA,GAAA,MAAArF,EAAA,CACAoD,OAAAkF,eAAA,WACA,GAAAkB,EAGA,OAFAA,GAAA,GAAAxJ,GACAsJ,EAAAE,GACAA,EAEA,KACA1K,EAAAsE,OAAAkF,eAAAtI,GACA,MAAAqF,KAEA,GAAA,MAAAtF,GAAAV,EAAAyD,KAAAE,gBAAA,CACAI,OAAAmF,UAAA,SAAAqB,EAAAI,GACA,GAAAR,EAcA,OAZAA,GADA,MAAAQ,EACA,GAAAjK,GAAA6J,EAAAI,GAEA,GAAAjK,GAAA6J,GAEAjK,EAAA,WACA4J,EAAApD,QAAA,WACAwD,KAAA,SACAC,IAAAA,EACAI,UAAAA,EACAF,QAAAN,IAGAA,EAEA,KACA1K,EAAAsE,OAAAmF,UAAAxI,GACA,MAAAsF,MAIA,MAhEAxE,GAAA3C,EAAAmI,GAgEAnI,GAEAH,GAEAoC,EAAA,KAEAnB,EAAA,WAIA,MAHA,OAAAmB,IACAA,EAAA,GAAAjC,IAEAiC,GAGAT,EAAA,SAAAkK,GACA,GAAAK,GAAAtC,EAAAC,EAAAC,CAEA,KADAA,EAAAxI,EAAAyD,KAAAG,WACA0E,EAAA,EAAAC,EAAAC,EAAAjG,OAAA+F,EAAAC,EAAAD,IAEA,GADAsC,EAAApC,EAAAF,GACA,gBAAAsC,IACA,GAAAL,EAAApI,QAAAyI,QACA,OAAA,MAGA,IAAAA,EAAAC,KAAAN,GACA,OAAA,CAIA,QAAA,GAGA5K,IAAAwG,GAAA,UAAA,SAAA2E,GACA,GAAAC,GAAApG,EAAA8F,EAAAH,EAAAC,CAEA,IADAD,EAAAQ,EAAAR,KAAAG,EAAAK,EAAAL,QAAAF,EAAAO,EAAAP,KACAlK,EAAAkK,GAGA,MAAA3L,GAAAoM,SAAAhL,EAAAgD,yBAAA,GAAA,UAAA1C,EAAAgK,GAAA,QACA3F,EAAAE,UACAkG,EAAA/K,EAAAgD,uBAAA,EACA,iBAAA+H,KACAA,EAAA,GAEA1G,WAAA,WACA,GAAA4G,GAAA3C,EAAAC,EAAAC,EAAA0C,EAAAtE,CAMA,IAJAqE,EADA,WAAAX,EACAG,EAAAU,WAAA,EAEA,GAAA3C,EAAAiC,EAAAU,aAAA3C,EAAA,EAEA,CAIA,IAHA5J,EAAAwM,UACAF,EAAAtM,EAAA4B,QACAoG,KACA0B,EAAA,EAAAC,EAAA2C,EAAA3I,OAAA+F,EAAAC,EAAAD,IAAA,CAEA,GADA/H,EAAA2K,EAAA5C,GACA/H,YAAApC,GAAA,CACAoC,EAAA8K,MAAAvG,MAAAvE,EAAAoE,EACA,OAEAiC,EAAAF,KAAA,QAGA,MAAAE,KAEAmE,MAIA5M,EAAA,WACA,QAAAA,KACA,GAAA+L,GAAAtI,IACAA,MAAAsB,YACAvD,IAAAwG,GAAA,UAAA,WACA,MAAA+D,GAAAmB,MAAAvG,MAAAoF,EAAArF,aAkBA,MAdA1G,GAAA6D,UAAAqJ,MAAA,SAAAP,GACA,GAAAL,GAAAa,EAAAhB,EAAAC,CAEA,IADAD,EAAAQ,EAAAR,KAAAG,EAAAK,EAAAL,QAAAF,EAAAO,EAAAP,KACAlK,EAAAkK,GAQA,MAJAe,GADA,WAAAhB,EACA,GAAAtL,GAAAyL,GAEA,GAAAxL,GAAAwL,GAEA7I,KAAAsB,SAAAwD,KAAA4E,IAGAnN,KAIAc,EAAA,WACA,QAAAA,GAAAwL,GACA,GAAArE,GAAAmF,EAAAjD,EAAAC,EAAAiD,EAAAhD,EACA0B,EAAAtI,IAEA,IADAA,KAAAsF,SAAA,EACA,MAAAnD,OAAA0H,cAUA,IATAF,EAAA,KACAd,EAAAiB,iBAAA,WAAA,SAAAC,GACA,MAAAA,GAAAC,iBACA1B,EAAAhD,SAAA,IAAAyE,EAAAE,OAAAF,EAAAG,MAEA5B,EAAAhD,SAAAgD,EAAAhD,UAAA,IAAAgD,EAAAhD,UAAA,IAEA,GACAsB,GAAA,OAAA,QAAA,UAAA,SACAF,EAAA,EAAAC,EAAAC,EAAAjG,OAAA+F,EAAAC,EAAAD,IACAlC,EAAAoC,EAAAF,GACAmC,EAAAiB,iBAAAtF,EAAA,WACA,MAAA8D,GAAAhD,SAAA,MACA,OAGAsE,GAAAf,EAAAsB,mBACAtB,EAAAsB,mBAAA,WACA,GAAAb,EAMA,OALA,MAAAA,EAAAT,EAAAU,aAAA,IAAAD,EACAhB,EAAAhD,SAAA,IACA,IAAAuD,EAAAU,aACAjB,EAAAhD,SAAA,IAEA,kBAAAsE,GAAAA,EAAA1G,MAAA,KAAAD,WAAA,QAKA,MAAA5F,MAIAD,EAAA,WACA,QAAAA,GAAAyL,GACA,GAAArE,GAAAkC,EAAAC,EAAAC,EACA0B,EAAAtI,IAGA,KAFAA,KAAAsF,SAAA,EACAsB,GAAA,QAAA,QACAF,EAAA,EAAAC,EAAAC,EAAAjG,OAAA+F,EAAAC,EAAAD,IACAlC,EAAAoC,EAAAF,GACAmC,EAAAiB,iBAAAtF,EAAA,WACA,MAAA8D,GAAAhD,SAAA,MACA,GAIA,MAAAlI,MAIAV,EAAA,WACA,QAAAA,GAAA0B,GACA,GAAAgM,GAAA1D,EAAAC,EAAAC,CASA,KARA,MAAAxI,IACAA,MAEA4B,KAAAsB,YACA,MAAAlD,EAAAoD,YACApD,EAAAoD,cAEAoF,EAAAxI,EAAAoD,UACAkF,EAAA,EAAAC,EAAAC,EAAAjG,OAAA+F,EAAAC,EAAAD,IACA0D,EAAAxD,EAAAF,GACA1G,KAAAsB,SAAAwD,KAAA,GAAAnI,GAAAyN,IAIA,MAAA1N,MAIAC,EAAA,WACA,QAAAA,GAAAyN,GACApK,KAAAoK,SAAAA,EACApK,KAAAsF,SAAA,EACAtF,KAAAqK,QAkBA,MAfA1N,GAAAyD,UAAAiK,MAAA,WACA,GAAA/B,GAAAtI,IACA,OAAA+D,UAAAC,cAAAhE,KAAAoK,UACApK,KAAAiH,OAEAxE,WAAA,WACA,MAAA6F,GAAA+B,SACAjM,EAAAkD,SAAAC,gBAIA5E,EAAAyD,UAAA6G,KAAA,WACA,MAAAjH,MAAAsF,SAAA,KAGA3I,KAIAF,EAAA,WAOA,QAAAA,KACA,GAAAmN,GAAAhD,EACA0B,EAAAtI,IACAA,MAAAsF,SAAA,OAAAsB,EAAA5G,KAAAsK,OAAAvG,SAAAwF,aAAA3C,EAAA,IACAgD,EAAA7F,SAAAoG,mBACApG,SAAAoG,mBAAA,WAIA,MAHA,OAAA7B,EAAAgC,OAAAvG,SAAAwF,cACAjB,EAAAhD,SAAAgD,EAAAgC,OAAAvG,SAAAwF,aAEA,kBAAAK,GAAAA,EAAA1G,MAAA,KAAAD,WAAA,QAIA,MAnBAxG,GAAA2D,UAAAkK,QACAC,QAAA,EACAC,YAAA,GACAC,SAAA,KAgBAhO,KAIAG,EAAA,WACA,QAAAA,KACA,GAAA8N,GAAAC,EAAA/H,EAAAgI,EAAAC,EACAvC,EAAAtI,IACAA,MAAAsF,SAAA,EACAoF,EAAA,EACAG,KACAD,EAAA,EACAhI,EAAAzE,IACAwM,EAAAG,YAAA,WACA,GAAAhI,EAQA,OAPAA,GAAA3E,IAAAyE,EAAA,GACAA,EAAAzE,IACA0M,EAAA/F,KAAAhC,GACA+H,EAAAlK,OAAAvC,EAAAqD,SAAAE,aACAkJ,EAAA5C,QAEAyC,EAAAnN,EAAAsN,KACAD,GAAAxM,EAAAqD,SAAAC,YAAAgJ,EAAAtM,EAAAqD,SAAAG,cACA0G,EAAAhD,SAAA,IACAyF,cAAAJ,IAEArC,EAAAhD,SAAA,KAAA,GAAAoF,EAAA,KAEA,IAGA,MAAA9N,MAIAO,EAAA,WACA,QAAAA,GAAAwB,GACAqB,KAAArB,OAAAA,EACAqB,KAAA4C,KAAA5C,KAAAgL,gBAAA,EACAhL,KAAAiL,KAAA7M,EAAAyC,YACAb,KAAAkL,QAAA,EACAlL,KAAAsF,SAAAtF,KAAAmL,aAAA,EACA,MAAAnL,KAAArB,SACAqB,KAAAsF,SAAAhH,EAAA0B,KAAArB,OAAA,aAkCA,MA9BAxB,GAAAiD,UAAAyC,KAAA,SAAAuI,EAAAhI,GACA,GAAAiI,EA0BA,OAzBA,OAAAjI,IACAA,EAAA9E,EAAA0B,KAAArB,OAAA,aAEAyE,GAAA,MACApD,KAAAiH,MAAA,GAEA7D,IAAApD,KAAA4C,KACA5C,KAAAgL,iBAAAI,GAEApL,KAAAgL,kBACAhL,KAAAiL,MAAA7H,EAAApD,KAAA4C,MAAA5C,KAAAgL,iBAEAhL,KAAAkL,SAAA9H,EAAApD,KAAAsF,UAAAlH,EAAAwC,YACAZ,KAAAgL,gBAAA,EACAhL,KAAA4C,KAAAQ,GAEAA,EAAApD,KAAAsF,WACAtF,KAAAsF,UAAAtF,KAAAkL,QAAAE,GAEAC,EAAA,EAAA5H,KAAA6H,IAAAtL,KAAAsF,SAAA,IAAAlH,EAAA6C,YACAjB,KAAAsF,UAAA+F,EAAArL,KAAAiL,KAAAG,EACApL,KAAAsF,SAAA7B,KAAA8H,IAAAvL,KAAAmL,aAAA/M,EAAA4C,oBAAAhB,KAAAsF,UACAtF,KAAAsF,SAAA7B,KAAA+H,IAAA,EAAAxL,KAAAsF,UACAtF,KAAAsF,SAAA7B,KAAA8H,IAAA,IAAAvL,KAAAsF,UACAtF,KAAAmL,aAAAnL,KAAAsF,SACAtF,KAAAsF,UAGAnI,KAIAyB,EAAA,KAEAJ,EAAA,KAEAhB,EAAA,KAEAqB,EAAA,KAEAvB,EAAA,KAEAG,EAAA,KAEAT,EAAAoM,SAAA,EAEApL,EAAA,WACA,GAAAI,EAAA+C,mBACA,MAAAnE,GAAAwM,WAIA,MAAArH,OAAAsJ,QAAAC,YACAtM,EAAA+C,OAAAsJ,QAAAC,UACAvJ,OAAAsJ,QAAAC,UAAA,WAEA,MADA1N,KACAoB,EAAA8D,MAAAf,OAAAsJ,QAAAxI,aAIA,MAAAd,OAAAsJ,QAAAE,eACApM,EAAA4C,OAAAsJ,QAAAE,aACAxJ,OAAAsJ,QAAAE,aAAA,WAEA,MADA3N,KACAuB,EAAA2D,MAAAf,OAAAsJ,QAAAxI,aAIA/F,GACA2E,KAAAtF,EACA+E,SAAA5E,EACAqH,SAAAtH,EACAgF,SAAA7E,IAGAsB,EAAA,WACA,GAAAwK,GAAAhC,EAAAkF,EAAAjF,EAAAkF,EAAAjF,EAAA0C,EAAAwC,CAGA,KAFA9O,EAAA4B,QAAAA,KACAgI,GAAA,OAAA,WAAA,WAAA,YACAF,EAAA,EAAAC,EAAAC,EAAAjG,OAAA+F,EAAAC,EAAAD,IACAgC,EAAA9B,EAAAF,GACAtI,EAAAsK,MAAA,GACA9J,EAAAkG,KAAA,GAAA5H,GAAAwL,GAAAtK,EAAAsK,IAIA,KADAoD,EAAA,OAAAxC,EAAAlL,EAAA2N,cAAAzC,KACAsC,EAAA,EAAAC,EAAAC,EAAAnL,OAAAiL,EAAAC,EAAAD,IACAjN,EAAAmN,EAAAF,GACAhN,EAAAkG,KAAA,GAAAnG,GAAAP,GAIA,OAFApB,GAAAQ,IAAAA,EAAA,GAAAhB,GACAgC,KACAK,EAAA,GAAA1B,OAGAH,EAAAgP,KAAA,WAWA,MAVAhP,GAAAkI,QAAA,QACAlI,EAAAoM,SAAA,EACA5L,EAAA6I,UACA5I,GAAA,EACA,MAAAH,IACA,kBAAAI,IACAA,EAAAJ,GAEAA,EAAA,MAEAY,KAGAlB,EAAAwM,QAAA,WAGA,MAFAxM,GAAAkI,QAAA,WACAlI,EAAAgP,OACAhP,EAAAiP,SAGAjP,EAAAkP,GAAA,WACA,GAAAD,EAKA,OAJAjP,GAAAoM,SAAA,EACA5L,EAAA4I,SACA6F,EAAA9N,IACAV,GAAA,EACAH,EAAAiB,EAAA,SAAA6M,EAAAe,GACA,GAAAzB,GAAApH,EAAA2D,EAAAmF,EAAA9K,EAAAb,EAAA4L,EAAAC,EAAAC,EAAAC,EAAAjJ,EAAAmD,EAAAkF,EAAAjF,EAAAkF,EAAAjF,CAIA,KAHA0F,EAAA,IAAA9O,EAAA8H,SACAhC,EAAAC,EAAA,EACA0D,GAAA,EACAxG,EAAAiG,EAAA,EAAAC,EAAA/H,EAAA+B,OAAA+F,EAAAC,EAAAlG,IAAAiG,EAIA,IAHA/H,EAAAC,EAAA6B,GACA+L,EAAA,MAAAhO,EAAAiC,GAAAjC,EAAAiC,GAAAjC,EAAAiC,MACAa,EAAA,OAAAsF,EAAAjI,EAAA2C,UAAAsF,GAAAjI,GACA0N,EAAAT,EAAA,EAAAC,EAAAvK,EAAAX,OAAAiL,EAAAC,EAAAQ,IAAAT,EACAQ,EAAA9K,EAAA+K,GACAE,EAAA,MAAAC,EAAAH,GAAAG,EAAAH,GAAAG,EAAAH,GAAA,GAAAlP,GAAAiP,GACAnF,GAAAsF,EAAAtF,KACAsF,EAAAtF,OAGA3D,IACAC,GAAAgJ,EAAA1J,KAAAuI,GAKA,OAFAV,GAAAnH,EAAAD,EACA9F,EAAA0I,OAAArH,EAAAgE,KAAAuI,EAAAV,IACAlN,EAAAyJ,QAAAA,GAAAxJ,GACAD,EAAA0I,OAAA,KACAlJ,EAAAkI,QAAA,QACAzC,WAAA,WAGA,MAFAjF,GAAAyI,SACAjJ,EAAAoM,SAAA,EACApM,EAAAkI,QAAA,SACAzB,KAAA+H,IAAApN,EAAA2C,UAAA0C,KAAA+H,IAAApN,EAAA0C,SAAA3C,IAAA8N,GAAA,MAEAE,OAKAnP,EAAAiP,MAAA,SAAAQ,GACA7O,EAAAQ,EAAAqO,GACAzP,EAAAoM,SAAA,CACA,KACA5L,EAAA4I,SACA,MAAAhC,GACArH,EAAAqH,EAEA,MAAAL,UAAAC,cAAA,UAGAhH,EAAAkI,QAAA,SACAlI,EAAAkP,MAHAzJ,WAAAzF,EAAAiP,MAAA,KAOA,kBAAAS,SAAAA,OAAAC,IACAD,QAAA,QAAA,WACA,MAAA1P,KAEA,gBAAA4P,SACAC,OAAAD,QAAA5P,EAEAoB,EAAA8C,iBACAlE,EAAAiP,UAIA9L,KAAAH","file":"main.min.js","sourcesContent":["(function() {\r\n    var AjaxMonitor, Bar, DocumentMonitor, ElementMonitor, ElementTracker, EventLagMonitor, Evented, Events, NoTargetError, Pace, RequestIntercept, SOURCE_KEYS, Scaler, SocketRequestTracker, XHRRequestTracker, animation, avgAmplitude, bar, cancelAnimation, cancelAnimationFrame, defaultOptions, extend, extendNative, getFromDOM, getIntercept, handlePushState, ignoreStack, init, now, options, requestAnimationFrame, result, runAnimation, scalers, shouldIgnoreURL, shouldTrack, source, sources, uniScaler, _WebSocket, _XDomainRequest, _XMLHttpRequest, _i, _intercept, _len, _pushState, _ref, _ref1, _replaceState,\r\n        __slice = [].slice,\r\n        __hasProp = {}.hasOwnProperty,\r\n        __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; }\r\n\r\n            function ctor() { this.constructor = child; }\r\n            ctor.prototype = parent.prototype;\r\n            child.prototype = new ctor();\r\n            child.__super__ = parent.prototype; return child; },\r\n        __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\r\n\r\n    defaultOptions = {\r\n        catchupTime: 100,\r\n        initialRate: .03,\r\n        minTime: 250,\r\n        ghostTime: 100,\r\n        maxProgressPerFrame: 20,\r\n        easeFactor: 1.25,\r\n        startOnPageLoad: true,\r\n        restartOnPushState: true,\r\n        restartOnRequestAfter: 500,\r\n        target: 'body',\r\n        elements: {\r\n            checkInterval: 100,\r\n            selectors: ['body']\r\n        },\r\n        eventLag: {\r\n            minSamples: 10,\r\n            sampleCount: 3,\r\n            lagThreshold: 3\r\n        },\r\n        ajax: {\r\n            trackMethods: ['GET'],\r\n            trackWebSockets: true,\r\n            ignoreURLs: []\r\n        }\r\n    };\r\n\r\n    now = function() {\r\n        var _ref;\r\n        return (_ref = typeof performance !== \"undefined\" && performance !== null ? typeof performance.now === \"function\" ? performance.now() : void 0 : void 0) != null ? _ref : +(new Date);\r\n    };\r\n\r\n    requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\r\n\r\n    cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame;\r\n\r\n    if (requestAnimationFrame == null) {\r\n        requestAnimationFrame = function(fn) {\r\n            return setTimeout(fn, 50);\r\n        };\r\n        cancelAnimationFrame = function(id) {\r\n            return clearTimeout(id);\r\n        };\r\n    }\r\n\r\n    runAnimation = function(fn) {\r\n        var last, tick;\r\n        last = now();\r\n        tick = function() {\r\n            var diff;\r\n            diff = now() - last;\r\n            if (diff >= 33) {\r\n                last = now();\r\n                return fn(diff, function() {\r\n                    return requestAnimationFrame(tick);\r\n                });\r\n            } else {\r\n                return setTimeout(tick, 33 - diff);\r\n            }\r\n        };\r\n        return tick();\r\n    };\r\n\r\n    result = function() {\r\n        var args, key, obj;\r\n        obj = arguments[0], key = arguments[1], args = 3 <= arguments.length ? __slice.call(arguments, 2) : [];\r\n        if (typeof obj[key] === 'function') {\r\n            return obj[key].apply(obj, args);\r\n        } else {\r\n            return obj[key];\r\n        }\r\n    };\r\n\r\n    extend = function() {\r\n        var key, out, source, sources, val, _i, _len;\r\n        out = arguments[0], sources = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\r\n        for (_i = 0, _len = sources.length; _i < _len; _i++) {\r\n            source = sources[_i];\r\n            if (source) {\r\n                for (key in source) {\r\n                    if (!__hasProp.call(source, key)) continue;\r\n                    val = source[key];\r\n                    if ((out[key] != null) && typeof out[key] === 'object' && (val != null) && typeof val === 'object') {\r\n                        extend(out[key], val);\r\n                    } else {\r\n                        out[key] = val;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return out;\r\n    };\r\n\r\n    avgAmplitude = function(arr) {\r\n        var count, sum, v, _i, _len;\r\n        sum = count = 0;\r\n        for (_i = 0, _len = arr.length; _i < _len; _i++) {\r\n            v = arr[_i];\r\n            sum += Math.abs(v);\r\n            count++;\r\n        }\r\n        return sum / count;\r\n    };\r\n\r\n    getFromDOM = function(key, json) {\r\n        var data, e, el;\r\n        if (key == null) {\r\n            key = 'options';\r\n        }\r\n        if (json == null) {\r\n            json = true;\r\n        }\r\n        el = document.querySelector(\"[data-pace-\" + key + \"]\");\r\n        if (!el) {\r\n            return;\r\n        }\r\n        data = el.getAttribute(\"data-pace-\" + key);\r\n        if (!json) {\r\n            return data;\r\n        }\r\n        try {\r\n            return JSON.parse(data);\r\n        } catch (_error) {\r\n            e = _error;\r\n            return typeof console !== \"undefined\" && console !== null ? console.error(\"Error parsing inline pace options\", e) : void 0;\r\n        }\r\n    };\r\n\r\n    Evented = (function() {\r\n        function Evented() {}\r\n\r\n        Evented.prototype.on = function(event, handler, ctx, once) {\r\n            var _base;\r\n            if (once == null) {\r\n                once = false;\r\n            }\r\n            if (this.bindings == null) {\r\n                this.bindings = {};\r\n            }\r\n            if ((_base = this.bindings)[event] == null) {\r\n                _base[event] = [];\r\n            }\r\n            return this.bindings[event].push({\r\n                handler: handler,\r\n                ctx: ctx,\r\n                once: once\r\n            });\r\n        };\r\n\r\n        Evented.prototype.once = function(event, handler, ctx) {\r\n            return this.on(event, handler, ctx, true);\r\n        };\r\n\r\n        Evented.prototype.off = function(event, handler) {\r\n            var i, _ref, _results;\r\n            if (((_ref = this.bindings) != null ? _ref[event] : void 0) == null) {\r\n                return;\r\n            }\r\n            if (handler == null) {\r\n                return delete this.bindings[event];\r\n            } else {\r\n                i = 0;\r\n                _results = [];\r\n                while (i < this.bindings[event].length) {\r\n                    if (this.bindings[event][i].handler === handler) {\r\n                        _results.push(this.bindings[event].splice(i, 1));\r\n                    } else {\r\n                        _results.push(i++);\r\n                    }\r\n                }\r\n                return _results;\r\n            }\r\n        };\r\n\r\n        Evented.prototype.trigger = function() {\r\n            var args, ctx, event, handler, i, once, _ref, _ref1, _results;\r\n            event = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\r\n            if ((_ref = this.bindings) != null ? _ref[event] : void 0) {\r\n                i = 0;\r\n                _results = [];\r\n                while (i < this.bindings[event].length) {\r\n                    _ref1 = this.bindings[event][i], handler = _ref1.handler, ctx = _ref1.ctx, once = _ref1.once;\r\n                    handler.apply(ctx != null ? ctx : this, args);\r\n                    if (once) {\r\n                        _results.push(this.bindings[event].splice(i, 1));\r\n                    } else {\r\n                        _results.push(i++);\r\n                    }\r\n                }\r\n                return _results;\r\n            }\r\n        };\r\n\r\n        return Evented;\r\n\r\n    })();\r\n\r\n    Pace = window.Pace || {};\r\n\r\n    window.Pace = Pace;\r\n\r\n    extend(Pace, Evented.prototype);\r\n\r\n    options = Pace.options = extend({}, defaultOptions, window.paceOptions, getFromDOM());\r\n\r\n    _ref = ['ajax', 'document', 'eventLag', 'elements'];\r\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n        source = _ref[_i];\r\n        if (options[source] === true) {\r\n            options[source] = defaultOptions[source];\r\n        }\r\n    }\r\n\r\n    NoTargetError = (function(_super) {\r\n        __extends(NoTargetError, _super);\r\n\r\n        function NoTargetError() {\r\n            _ref1 = NoTargetError.__super__.constructor.apply(this, arguments);\r\n            return _ref1;\r\n        }\r\n\r\n        return NoTargetError;\r\n\r\n    })(Error);\r\n\r\n    Bar = (function() {\r\n        function Bar() {\r\n            this.progress = 0;\r\n        }\r\n\r\n        Bar.prototype.getElement = function() {\r\n            var targetElement;\r\n            if (this.el == null) {\r\n                targetElement = document.querySelector(options.target);\r\n                if (!targetElement) {\r\n                    throw new NoTargetError;\r\n                }\r\n                this.el = document.createElement('div');\r\n                this.el.className = \"pace pace-active\";\r\n                document.body.className = document.body.className.replace(/pace-done/g, '');\r\n                document.body.className += ' pace-running';\r\n                this.el.innerHTML = '<div class=\"pace-progress\">\\n  <div class=\"pace-progress-inner\"></div>\\n</div>\\n<div class=\"pace-activity\"></div>';\r\n                if (targetElement.firstChild != null) {\r\n                    targetElement.insertBefore(this.el, targetElement.firstChild);\r\n                } else {\r\n                    targetElement.appendChild(this.el);\r\n                }\r\n            }\r\n            return this.el;\r\n        };\r\n\r\n        Bar.prototype.finish = function() {\r\n            var el;\r\n            el = this.getElement();\r\n            el.className = el.className.replace('pace-active', '');\r\n            el.className += ' pace-inactive';\r\n            document.body.className = document.body.className.replace('pace-running', '');\r\n            return document.body.className += ' pace-done';\r\n        };\r\n\r\n        Bar.prototype.update = function(prog) {\r\n            this.progress = prog;\r\n            return this.render();\r\n        };\r\n\r\n        Bar.prototype.destroy = function() {\r\n            try {\r\n                this.getElement().parentNode.removeChild(this.getElement());\r\n            } catch (_error) {\r\n                NoTargetError = _error;\r\n            }\r\n            return this.el = void 0;\r\n        };\r\n\r\n        Bar.prototype.render = function() {\r\n            var el, key, progressStr, transform, _j, _len1, _ref2;\r\n            if (document.querySelector(options.target) == null) {\r\n                return false;\r\n            }\r\n            el = this.getElement();\r\n            transform = \"translate3d(\" + this.progress + \"%, 0, 0)\";\r\n            _ref2 = ['webkitTransform', 'msTransform', 'transform'];\r\n            for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\r\n                key = _ref2[_j];\r\n                el.children[0].style[key] = transform;\r\n            }\r\n            if (!this.lastRenderedProgress || this.lastRenderedProgress | 0 !== this.progress | 0) {\r\n                el.children[0].setAttribute('data-progress-text', \"\" + (this.progress | 0) + \"%\");\r\n                if (this.progress >= 100) {\r\n                    progressStr = '99';\r\n                } else {\r\n                    progressStr = this.progress < 10 ? \"0\" : \"\";\r\n                    progressStr += this.progress | 0;\r\n                }\r\n                el.children[0].setAttribute('data-progress', \"\" + progressStr);\r\n            }\r\n            return this.lastRenderedProgress = this.progress;\r\n        };\r\n\r\n        Bar.prototype.done = function() {\r\n            return this.progress >= 100;\r\n        };\r\n\r\n        return Bar;\r\n\r\n    })();\r\n\r\n    Events = (function() {\r\n        function Events() {\r\n            this.bindings = {};\r\n        }\r\n\r\n        Events.prototype.trigger = function(name, val) {\r\n            var binding, _j, _len1, _ref2, _results;\r\n            if (this.bindings[name] != null) {\r\n                _ref2 = this.bindings[name];\r\n                _results = [];\r\n                for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\r\n                    binding = _ref2[_j];\r\n                    _results.push(binding.call(this, val));\r\n                }\r\n                return _results;\r\n            }\r\n        };\r\n\r\n        Events.prototype.on = function(name, fn) {\r\n            var _base;\r\n            if ((_base = this.bindings)[name] == null) {\r\n                _base[name] = [];\r\n            }\r\n            return this.bindings[name].push(fn);\r\n        };\r\n\r\n        return Events;\r\n\r\n    })();\r\n\r\n    _XMLHttpRequest = window.XMLHttpRequest;\r\n\r\n    _XDomainRequest = window.XDomainRequest;\r\n\r\n    _WebSocket = window.WebSocket;\r\n\r\n    extendNative = function(to, from) {\r\n        var e, key, _results;\r\n        _results = [];\r\n        for (key in from.prototype) {\r\n            try {\r\n                if ((to[key] == null) && typeof from[key] !== 'function') {\r\n                    if (typeof Object.defineProperty === 'function') {\r\n                        _results.push(Object.defineProperty(to, key, {\r\n                            get: function() {\r\n                                return from.prototype[key];\r\n                            },\r\n                            configurable: true,\r\n                            enumerable: true\r\n                        }));\r\n                    } else {\r\n                        _results.push(to[key] = from.prototype[key]);\r\n                    }\r\n                } else {\r\n                    _results.push(void 0);\r\n                }\r\n            } catch (_error) {\r\n                e = _error;\r\n            }\r\n        }\r\n        return _results;\r\n    };\r\n\r\n    ignoreStack = [];\r\n\r\n    Pace.ignore = function() {\r\n        var args, fn, ret;\r\n        fn = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\r\n        ignoreStack.unshift('ignore');\r\n        ret = fn.apply(null, args);\r\n        ignoreStack.shift();\r\n        return ret;\r\n    };\r\n\r\n    Pace.track = function() {\r\n        var args, fn, ret;\r\n        fn = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\r\n        ignoreStack.unshift('track');\r\n        ret = fn.apply(null, args);\r\n        ignoreStack.shift();\r\n        return ret;\r\n    };\r\n\r\n    shouldTrack = function(method) {\r\n        var _ref2;\r\n        if (method == null) {\r\n            method = 'GET';\r\n        }\r\n        if (ignoreStack[0] === 'track') {\r\n            return 'force';\r\n        }\r\n        if (!ignoreStack.length && options.ajax) {\r\n            if (method === 'socket' && options.ajax.trackWebSockets) {\r\n                return true;\r\n            } else if (_ref2 = method.toUpperCase(), __indexOf.call(options.ajax.trackMethods, _ref2) >= 0) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n\r\n    RequestIntercept = (function(_super) {\r\n        __extends(RequestIntercept, _super);\r\n\r\n        function RequestIntercept() {\r\n            var monitorXHR,\r\n                _this = this;\r\n            RequestIntercept.__super__.constructor.apply(this, arguments);\r\n            monitorXHR = function(req) {\r\n                var _open;\r\n                _open = req.open;\r\n                return req.open = function(type, url, async) {\r\n                    if (shouldTrack(type)) {\r\n                        _this.trigger('request', {\r\n                            type: type,\r\n                            url: url,\r\n                            request: req\r\n                        });\r\n                    }\r\n                    return _open.apply(req, arguments);\r\n                };\r\n            };\r\n            window.XMLHttpRequest = function(flags) {\r\n                var req;\r\n                req = new _XMLHttpRequest(flags);\r\n                monitorXHR(req);\r\n                return req;\r\n            };\r\n            try {\r\n                extendNative(window.XMLHttpRequest, _XMLHttpRequest);\r\n            } catch (_error) {}\r\n            if (_XDomainRequest != null) {\r\n                window.XDomainRequest = function() {\r\n                    var req;\r\n                    req = new _XDomainRequest;\r\n                    monitorXHR(req);\r\n                    return req;\r\n                };\r\n                try {\r\n                    extendNative(window.XDomainRequest, _XDomainRequest);\r\n                } catch (_error) {}\r\n            }\r\n            if ((_WebSocket != null) && options.ajax.trackWebSockets) {\r\n                window.WebSocket = function(url, protocols) {\r\n                    var req;\r\n                    if (protocols != null) {\r\n                        req = new _WebSocket(url, protocols);\r\n                    } else {\r\n                        req = new _WebSocket(url);\r\n                    }\r\n                    if (shouldTrack('socket')) {\r\n                        _this.trigger('request', {\r\n                            type: 'socket',\r\n                            url: url,\r\n                            protocols: protocols,\r\n                            request: req\r\n                        });\r\n                    }\r\n                    return req;\r\n                };\r\n                try {\r\n                    extendNative(window.WebSocket, _WebSocket);\r\n                } catch (_error) {}\r\n            }\r\n        }\r\n\r\n        return RequestIntercept;\r\n\r\n    })(Events);\r\n\r\n    _intercept = null;\r\n\r\n    getIntercept = function() {\r\n        if (_intercept == null) {\r\n            _intercept = new RequestIntercept;\r\n        }\r\n        return _intercept;\r\n    };\r\n\r\n    shouldIgnoreURL = function(url) {\r\n        var pattern, _j, _len1, _ref2;\r\n        _ref2 = options.ajax.ignoreURLs;\r\n        for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\r\n            pattern = _ref2[_j];\r\n            if (typeof pattern === 'string') {\r\n                if (url.indexOf(pattern) !== -1) {\r\n                    return true;\r\n                }\r\n            } else {\r\n                if (pattern.test(url)) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n\r\n    getIntercept().on('request', function(_arg) {\r\n        var after, args, request, type, url;\r\n        type = _arg.type, request = _arg.request, url = _arg.url;\r\n        if (shouldIgnoreURL(url)) {\r\n            return;\r\n        }\r\n        if (!Pace.running && (options.restartOnRequestAfter !== false || shouldTrack(type) === 'force')) {\r\n            args = arguments;\r\n            after = options.restartOnRequestAfter || 0;\r\n            if (typeof after === 'boolean') {\r\n                after = 0;\r\n            }\r\n            return setTimeout(function() {\r\n                var stillActive, _j, _len1, _ref2, _ref3, _results;\r\n                if (type === 'socket') {\r\n                    stillActive = request.readyState < 2;\r\n                } else {\r\n                    stillActive = (0 < (_ref2 = request.readyState) && _ref2 < 4);\r\n                }\r\n                if (stillActive) {\r\n                    Pace.restart();\r\n                    _ref3 = Pace.sources;\r\n                    _results = [];\r\n                    for (_j = 0, _len1 = _ref3.length; _j < _len1; _j++) {\r\n                        source = _ref3[_j];\r\n                        if (source instanceof AjaxMonitor) {\r\n                            source.watch.apply(source, args);\r\n                            break;\r\n                        } else {\r\n                            _results.push(void 0);\r\n                        }\r\n                    }\r\n                    return _results;\r\n                }\r\n            }, after);\r\n        }\r\n    });\r\n\r\n    AjaxMonitor = (function() {\r\n        function AjaxMonitor() {\r\n            var _this = this;\r\n            this.elements = [];\r\n            getIntercept().on('request', function() {\r\n                return _this.watch.apply(_this, arguments);\r\n            });\r\n        }\r\n\r\n        AjaxMonitor.prototype.watch = function(_arg) {\r\n            var request, tracker, type, url;\r\n            type = _arg.type, request = _arg.request, url = _arg.url;\r\n            if (shouldIgnoreURL(url)) {\r\n                return;\r\n            }\r\n            if (type === 'socket') {\r\n                tracker = new SocketRequestTracker(request);\r\n            } else {\r\n                tracker = new XHRRequestTracker(request);\r\n            }\r\n            return this.elements.push(tracker);\r\n        };\r\n\r\n        return AjaxMonitor;\r\n\r\n    })();\r\n\r\n    XHRRequestTracker = (function() {\r\n        function XHRRequestTracker(request) {\r\n            var event, size, _j, _len1, _onreadystatechange, _ref2,\r\n                _this = this;\r\n            this.progress = 0;\r\n            if (window.ProgressEvent != null) {\r\n                size = null;\r\n                request.addEventListener('progress', function(evt) {\r\n                    if (evt.lengthComputable) {\r\n                        return _this.progress = 100 * evt.loaded / evt.total;\r\n                    } else {\r\n                        return _this.progress = _this.progress + (100 - _this.progress) / 2;\r\n                    }\r\n                }, false);\r\n                _ref2 = ['load', 'abort', 'timeout', 'error'];\r\n                for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\r\n                    event = _ref2[_j];\r\n                    request.addEventListener(event, function() {\r\n                        return _this.progress = 100;\r\n                    }, false);\r\n                }\r\n            } else {\r\n                _onreadystatechange = request.onreadystatechange;\r\n                request.onreadystatechange = function() {\r\n                    var _ref3;\r\n                    if ((_ref3 = request.readyState) === 0 || _ref3 === 4) {\r\n                        _this.progress = 100;\r\n                    } else if (request.readyState === 3) {\r\n                        _this.progress = 50;\r\n                    }\r\n                    return typeof _onreadystatechange === \"function\" ? _onreadystatechange.apply(null, arguments) : void 0;\r\n                };\r\n            }\r\n        }\r\n\r\n        return XHRRequestTracker;\r\n\r\n    })();\r\n\r\n    SocketRequestTracker = (function() {\r\n        function SocketRequestTracker(request) {\r\n            var event, _j, _len1, _ref2,\r\n                _this = this;\r\n            this.progress = 0;\r\n            _ref2 = ['error', 'open'];\r\n            for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\r\n                event = _ref2[_j];\r\n                request.addEventListener(event, function() {\r\n                    return _this.progress = 100;\r\n                }, false);\r\n            }\r\n        }\r\n\r\n        return SocketRequestTracker;\r\n\r\n    })();\r\n\r\n    ElementMonitor = (function() {\r\n        function ElementMonitor(options) {\r\n            var selector, _j, _len1, _ref2;\r\n            if (options == null) {\r\n                options = {};\r\n            }\r\n            this.elements = [];\r\n            if (options.selectors == null) {\r\n                options.selectors = [];\r\n            }\r\n            _ref2 = options.selectors;\r\n            for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\r\n                selector = _ref2[_j];\r\n                this.elements.push(new ElementTracker(selector));\r\n            }\r\n        }\r\n\r\n        return ElementMonitor;\r\n\r\n    })();\r\n\r\n    ElementTracker = (function() {\r\n        function ElementTracker(selector) {\r\n            this.selector = selector;\r\n            this.progress = 0;\r\n            this.check();\r\n        }\r\n\r\n        ElementTracker.prototype.check = function() {\r\n            var _this = this;\r\n            if (document.querySelector(this.selector)) {\r\n                return this.done();\r\n            } else {\r\n                return setTimeout((function() {\r\n                    return _this.check();\r\n                }), options.elements.checkInterval);\r\n            }\r\n        };\r\n\r\n        ElementTracker.prototype.done = function() {\r\n            return this.progress = 100;\r\n        };\r\n\r\n        return ElementTracker;\r\n\r\n    })();\r\n\r\n    DocumentMonitor = (function() {\r\n        DocumentMonitor.prototype.states = {\r\n            loading: 0,\r\n            interactive: 50,\r\n            complete: 100\r\n        };\r\n\r\n        function DocumentMonitor() {\r\n            var _onreadystatechange, _ref2,\r\n                _this = this;\r\n            this.progress = (_ref2 = this.states[document.readyState]) != null ? _ref2 : 100;\r\n            _onreadystatechange = document.onreadystatechange;\r\n            document.onreadystatechange = function() {\r\n                if (_this.states[document.readyState] != null) {\r\n                    _this.progress = _this.states[document.readyState];\r\n                }\r\n                return typeof _onreadystatechange === \"function\" ? _onreadystatechange.apply(null, arguments) : void 0;\r\n            };\r\n        }\r\n\r\n        return DocumentMonitor;\r\n\r\n    })();\r\n\r\n    EventLagMonitor = (function() {\r\n        function EventLagMonitor() {\r\n            var avg, interval, last, points, samples,\r\n                _this = this;\r\n            this.progress = 0;\r\n            avg = 0;\r\n            samples = [];\r\n            points = 0;\r\n            last = now();\r\n            interval = setInterval(function() {\r\n                var diff;\r\n                diff = now() - last - 50;\r\n                last = now();\r\n                samples.push(diff);\r\n                if (samples.length > options.eventLag.sampleCount) {\r\n                    samples.shift();\r\n                }\r\n                avg = avgAmplitude(samples);\r\n                if (++points >= options.eventLag.minSamples && avg < options.eventLag.lagThreshold) {\r\n                    _this.progress = 100;\r\n                    return clearInterval(interval);\r\n                } else {\r\n                    return _this.progress = 100 * (3 / (avg + 3));\r\n                }\r\n            }, 50);\r\n        }\r\n\r\n        return EventLagMonitor;\r\n\r\n    })();\r\n\r\n    Scaler = (function() {\r\n        function Scaler(source) {\r\n            this.source = source;\r\n            this.last = this.sinceLastUpdate = 0;\r\n            this.rate = options.initialRate;\r\n            this.catchup = 0;\r\n            this.progress = this.lastProgress = 0;\r\n            if (this.source != null) {\r\n                this.progress = result(this.source, 'progress');\r\n            }\r\n        }\r\n\r\n        Scaler.prototype.tick = function(frameTime, val) {\r\n            var scaling;\r\n            if (val == null) {\r\n                val = result(this.source, 'progress');\r\n            }\r\n            if (val >= 100) {\r\n                this.done = true;\r\n            }\r\n            if (val === this.last) {\r\n                this.sinceLastUpdate += frameTime;\r\n            } else {\r\n                if (this.sinceLastUpdate) {\r\n                    this.rate = (val - this.last) / this.sinceLastUpdate;\r\n                }\r\n                this.catchup = (val - this.progress) / options.catchupTime;\r\n                this.sinceLastUpdate = 0;\r\n                this.last = val;\r\n            }\r\n            if (val > this.progress) {\r\n                this.progress += this.catchup * frameTime;\r\n            }\r\n            scaling = 1 - Math.pow(this.progress / 100, options.easeFactor);\r\n            this.progress += scaling * this.rate * frameTime;\r\n            this.progress = Math.min(this.lastProgress + options.maxProgressPerFrame, this.progress);\r\n            this.progress = Math.max(0, this.progress);\r\n            this.progress = Math.min(100, this.progress);\r\n            this.lastProgress = this.progress;\r\n            return this.progress;\r\n        };\r\n\r\n        return Scaler;\r\n\r\n    })();\r\n\r\n    sources = null;\r\n\r\n    scalers = null;\r\n\r\n    bar = null;\r\n\r\n    uniScaler = null;\r\n\r\n    animation = null;\r\n\r\n    cancelAnimation = null;\r\n\r\n    Pace.running = false;\r\n\r\n    handlePushState = function() {\r\n        if (options.restartOnPushState) {\r\n            return Pace.restart();\r\n        }\r\n    };\r\n\r\n    if (window.history.pushState != null) {\r\n        _pushState = window.history.pushState;\r\n        window.history.pushState = function() {\r\n            handlePushState();\r\n            return _pushState.apply(window.history, arguments);\r\n        };\r\n    }\r\n\r\n    if (window.history.replaceState != null) {\r\n        _replaceState = window.history.replaceState;\r\n        window.history.replaceState = function() {\r\n            handlePushState();\r\n            return _replaceState.apply(window.history, arguments);\r\n        };\r\n    }\r\n\r\n    SOURCE_KEYS = {\r\n        ajax: AjaxMonitor,\r\n        elements: ElementMonitor,\r\n        document: DocumentMonitor,\r\n        eventLag: EventLagMonitor\r\n    };\r\n\r\n    (init = function() {\r\n        var type, _j, _k, _len1, _len2, _ref2, _ref3, _ref4;\r\n        Pace.sources = sources = [];\r\n        _ref2 = ['ajax', 'elements', 'document', 'eventLag'];\r\n        for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\r\n            type = _ref2[_j];\r\n            if (options[type] !== false) {\r\n                sources.push(new SOURCE_KEYS[type](options[type]));\r\n            }\r\n        }\r\n        _ref4 = (_ref3 = options.extraSources) != null ? _ref3 : [];\r\n        for (_k = 0, _len2 = _ref4.length; _k < _len2; _k++) {\r\n            source = _ref4[_k];\r\n            sources.push(new source(options));\r\n        }\r\n        Pace.bar = bar = new Bar;\r\n        scalers = [];\r\n        return uniScaler = new Scaler;\r\n    })();\r\n\r\n    Pace.stop = function() {\r\n        Pace.trigger('stop');\r\n        Pace.running = false;\r\n        bar.destroy();\r\n        cancelAnimation = true;\r\n        if (animation != null) {\r\n            if (typeof cancelAnimationFrame === \"function\") {\r\n                cancelAnimationFrame(animation);\r\n            }\r\n            animation = null;\r\n        }\r\n        return init();\r\n    };\r\n\r\n    Pace.restart = function() {\r\n        Pace.trigger('restart');\r\n        Pace.stop();\r\n        return Pace.start();\r\n    };\r\n\r\n    Pace.go = function() {\r\n        var start;\r\n        Pace.running = true;\r\n        bar.render();\r\n        start = now();\r\n        cancelAnimation = false;\r\n        return animation = runAnimation(function(frameTime, enqueueNextFrame) {\r\n            var avg, count, done, element, elements, i, j, remaining, scaler, scalerList, sum, _j, _k, _len1, _len2, _ref2;\r\n            remaining = 100 - bar.progress;\r\n            count = sum = 0;\r\n            done = true;\r\n            for (i = _j = 0, _len1 = sources.length; _j < _len1; i = ++_j) {\r\n                source = sources[i];\r\n                scalerList = scalers[i] != null ? scalers[i] : scalers[i] = [];\r\n                elements = (_ref2 = source.elements) != null ? _ref2 : [source];\r\n                for (j = _k = 0, _len2 = elements.length; _k < _len2; j = ++_k) {\r\n                    element = elements[j];\r\n                    scaler = scalerList[j] != null ? scalerList[j] : scalerList[j] = new Scaler(element);\r\n                    done &= scaler.done;\r\n                    if (scaler.done) {\r\n                        continue;\r\n                    }\r\n                    count++;\r\n                    sum += scaler.tick(frameTime);\r\n                }\r\n            }\r\n            avg = sum / count;\r\n            bar.update(uniScaler.tick(frameTime, avg));\r\n            if (bar.done() || done || cancelAnimation) {\r\n                bar.update(100);\r\n                Pace.trigger('done');\r\n                return setTimeout(function() {\r\n                    bar.finish();\r\n                    Pace.running = false;\r\n                    return Pace.trigger('hide');\r\n                }, Math.max(options.ghostTime, Math.max(options.minTime - (now() - start), 0)));\r\n            } else {\r\n                return enqueueNextFrame();\r\n            }\r\n        });\r\n    };\r\n\r\n    Pace.start = function(_options) {\r\n        extend(options, _options);\r\n        Pace.running = true;\r\n        try {\r\n            bar.render();\r\n        } catch (_error) {\r\n            NoTargetError = _error;\r\n        }\r\n        if (!document.querySelector('.pace')) {\r\n            return setTimeout(Pace.start, 50);\r\n        } else {\r\n            Pace.trigger('start');\r\n            return Pace.go();\r\n        }\r\n    };\r\n\r\n    if (typeof define === 'function' && define.amd) {\r\n        define(['pace'], function() {\r\n            return Pace;\r\n        });\r\n    } else if (typeof exports === 'object') {\r\n        module.exports = Pace;\r\n    } else {\r\n        if (options.startOnPageLoad) {\r\n            Pace.start();\r\n        }\r\n    }\r\n\r\n}).call(this);"]}